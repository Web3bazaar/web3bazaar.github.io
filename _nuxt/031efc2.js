(window.webpackJsonp=window.webpackJsonp||[]).push([[5,11,23],{668:function(t,e,n){var content=n(672);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(32).default)("fb6a491c",content,!0,{sourceMap:!1})},669:function(t,e,n){var content=n(674);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(32).default)("93b99936",content,!0,{sourceMap:!1})},670:function(t,e,n){"use strict";n.r(e);n(19),n(17),n(18),n(7),n(25),n(21),n(26);var o=n(5),r=n(23);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={components:{},props:{small:{type:Boolean,default:!1},btnText:{default:"",type:String},loading:{default:!1,type:Boolean},disabled:{default:!1,type:Boolean}},data:function(){return{}},computed:{},methods:l(l({},Object(r.b)("sound",["playSFXAudio"])),{},{playSound:function(){this.playSFXAudio({audioToPlay:"actionButton"}),this.$emit("click")}})},m=(n(671),n(673),n(29)),f=n(76),v=n.n(f),A=n(790),component=Object(m.a)(d,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-btn",{staticClass:"more-btn pixel2 w3b-bg-gradient",attrs:{type:"submit",small:t.small,loading:t.loading,disabled:t.disabled,ripple:!1},on:{click:t.playSound}},[t._v("\n  "+t._s(t.btnText)+"\n")])}),[],!1,null,"31dd8b09",null);e.default=component.exports;v()(component,{VBtn:A.a})},671:function(t,e,n){"use strict";n(668)},672:function(t,e,n){var o=n(31)(!1);o.push([t.i,".login-btn[data-v-31dd8b09]{width:176px!important;height:35px!important;font-size:16px}",""]),t.exports=o},673:function(t,e,n){"use strict";n(669)},674:function(t,e,n){var o=n(31)(!1);o.push([t.i,".w3b-bg-gradient.v-btn--disabled,.w3b-bg-gradient.v-btn--disabled:after,.w3b-bg-gradient.v-btn--disabled:before{filter:grayscale(1)}",""]),t.exports=o},682:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABdUExURf///wAAAMlylXRQ/sRpjsRnjsNpjIckYchskPf39QsLCw0HDfX19Pv7+wECAAgCBvb29vT39QcDBAsGCPX29g4EDAsCCfn5+fn19QsFCgMCAvj+/Pj4+Pz8/AAAAK5WoyYAAAAfdFJOU////////////////////////////////////////wDNGXYQAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAeElEQVQoU5XN6w7CMAgFYE5RcW7zPnVz8v6P6YFmyeI/mzRwPlIq/nP+A4mwAgGYElMFpVDC6gRFlULCZsuKnaoaGwGbPWIeme9hbMuSuaM5hERuu9jt3h9T7HTOz3gvV4rd7pETvB/MHs/MFfw1Tu9sFvD5U6v7F7KRE1/SHTkvAAAAAElFTkSuQmCC"},735:function(t,e,n){var content=n(756);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(32).default)("41e2ba79",content,!0,{sourceMap:!1})},755:function(t,e,n){"use strict";n(735)},756:function(t,e,n){var o=n(31)(!1);o.push([t.i,".giveaway-card .max-button .disabled,.giveaway-card .ticket-cost .disabled{color:grey}.giveaway-card .amount-wrapper .amount-input{padding:2px 4px;align-items:flex-start;display:flex;flex:1 1 auto;font-size:16px;letter-spacing:normal;max-width:40%;margin:0;color:#fff;outline:grey;border:1px solid purple}.giveaway-card .amount-wrapper .amount-input:focus{border-bottom:1px solid purple}.giveaway-card .amount-wrapper span{height:20px}.giveaway-card .amount-wrapper *{color:#f0f8ff}.giveaway-card .item-quantity{display:inline;font-size:.75rem}.giveaway-card .item-info .ticket-image.disabled{filter:grayscale(1)}.giveaway-card .item-info .item-name.small-links{font-size:.75rem}.giveaway-card .item-info .item-name,.giveaway-card .item-info .item-quantity{color:#d3d3d3}.giveaway-card .item-info .item-name span,.giveaway-card .item-info .item-quantity span{color:#ffb6c1;font-size:.85rem}@media(max-width:720px){.giveaway-card .item-info *{text-align:center!important}.giveaway-card .item-info>*{font-size:.65rem!important}}",""]),t.exports=o},771:function(t,e,n){var content=n(822);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(32).default)("5ae5a59f",content,!0,{sourceMap:!1})},787:function(t,e,n){"use strict";n.r(e);var o={props:{projectName:{type:String,default:""}},data:function(){return{tab:0,iconCheckmark:n(682)}},computed:{}},r=(n(821),n(29)),c=n(76),l=n.n(c),d=n(875),m=n(662),f=n(664),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"background-wrapper"},[n("v-row",{attrs:{justify:"start"}},[n("v-col",{staticClass:"pt-6",attrs:{cols:"12",sm:"12"}},[n("giveaway-card",{attrs:{"project-name":t.projectName}})],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;l()(component,{GiveawayCard:n(788).default}),l()(component,{VCard:d.a,VCol:m.a,VRow:f.a})},788:function(t,e,n){"use strict";n.r(e);n(17),n(18),n(25),n(26);var o=n(4),r=n(5),c=(n(39),n(7),n(69),n(21),n(19),n(387),n(42),n(12)),l=n(23);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={props:{projectName:{type:String,default:""}},data:function(){return{tickets:[1,8,20],projectBaseCost:.08,tokenSymbol:null,loadingBtn:!1,isContractApproved:!1,ticketAmount:[],totalTicketAmount:[],tokenMaxAmount:0,tokenImage:null,projectLink:null,assetName:null,externalUrl:null,imageData:null,giveawayEnded:!1}},computed:m(m(m({},Object(l.c)("giveaway",["getGiveawayContract"])),Object(l.d)("connector",["account","isWalletConnected"])),{},{formattedQuantity:function(){var t,e,n;return(null===(t=this.asset)||void 0===t?void 0:t.contractType)===this.$contractTypes.ERC20?c.ethers.utils.formatUnits(((null===(e=this.asset)||void 0===e?void 0:e.amount.toString())||0)+""):null===(n=this.asset)||void 0===n?void 0:n.amount}}),watch:{account:function(t){t&&this.getMaxAmount()}},mounted:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("giveaway/getProjectData",{projectName:t.projectName});case 2:n=e.sent,Object.keys(n||{}).forEach((function(e){return t[e]=n[e]})),t.account&&t.getMaxAmount();case 5:case"end":return e.stop()}}),e)})))()},methods:{totalTicketCost:function(t,e){return+(this.getTicketPrice(t)*e||0).toFixed(2)},getTokenMaxAmount:function(t){return Math.floor(this.tokenMaxAmount/this.getTicketPrice(t))},getMaxAmount:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("relayer-erc20/listERC20",{contractAddress:t.erc20TokenAddress,wa:t.account,contractType:"ERC20"},{root:!0});case 2:o=e.sent,t.tokenMaxAmount=Math.floor(null==o?void 0:o.amount),t.tokenSymbol=null==o||null===(n=o.metadata)||void 0===n?void 0:n.name;case 5:case"end":return e.stop()}}),e)})))()},updateAmount:function(t,e){var n,o=parseInt(null!=t&&t.target?(null==t||null===(n=t.target)||void 0===n?void 0:n.value)||0:t),r=Math.min(this.getTokenMaxAmount(e),o);this.ticketAmount=[],this.totalTicketAmount=[],this.$set(this.ticketAmount,e,r),this.$set(this.totalTicketAmount,e,Math.round(r*this.tickets[e]))},ticketImg:function(t){var e;return null===(e=this.ticketsImages)||void 0===e?void 0:e[t]},getTicketPrice:function(t){var e;return c.ethers.utils.formatUnits((null===(e=this.ticketPrice)||void 0===e?void 0:e[t])||"0",this.erc20TokenDecimals||18)},enterGiveaway:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.loadingBtn=!0,e.$store.commit("modals/setPopupState",{type:"loading",isShow:!0}),n.prev=2,n.next=5,e.$store.dispatch("giveaway/enterGiveaway",{raffleType:e.tickets[t],quantity:e.ticketAmount[t],projectName:e.projectName,raffleContractAddress:e.raffleContractAddress});case 5:return o=n.sent,e.$store.commit("modals/setPopupState",{type:"loading",isShow:!0,data:{state:"mining"}}),n.next=9,o.wait();case 9:e.$store.commit("modals/setPopupState",{type:"success",isShow:!0,data:{title:"Almost there",message:"Your ticket is minted and ready to be sent to you.\n Make sure to EXECUTE the TRADE in the Main Square to spend your Ghost and get the tickets in your wallet.",button:"Complete in Main Square"}}),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),e.$store.commit("modals/setPopupState",{type:"error",isShow:!0,data:{}});case 15:e.loadingBtn=!1;case 16:case"end":return n.stop()}}),n,null,[[2,12]])})))()}}},v=(n(755),n(29)),A=n(76),y=n.n(A),h=n(662),w=n(667),k=n(664),x=n(663),component=Object(v.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"giveaway-card pa-2 pa-sm-3"},[n("v-row",{staticClass:"justify-center"},[n("v-col",{staticClass:"d-flex flex-column justify-center item-info",attrs:{cols:"12",md:"12"}},[n("v-row",{staticClass:"d-flex justify-start align-center pl-4"},[n("v-col",{attrs:{cols:"2"}},[t._v(" Amount")]),t._v(" "),n("v-col",{attrs:{cols:"3"}},[t._v(" Ticket Type ")]),t._v(" "),n("v-col",{staticClass:"pl-sm-0",attrs:{cols:"4"}},[t._v(" Total Cost ")]),t._v(" "),t.ticketAmount&&t.ticketAmount.length>0?n("v-col",{attrs:{cols:"auto"}},[t._v("\n          Raffle Ticket\n        ")]):t._e()],1)],1),t._v(" "),n("v-col",{staticClass:"d-flex flex-column justify-left item-info pb-0",attrs:{cols:"12",md:"12"}},t._l(t.tickets,(function(e,o){return n("v-row",{key:e,staticClass:"d-flex align-center justify-left pl-4"},[n("v-col",{staticClass:"pr-0",attrs:{cols:"2"}},[n("div",{staticClass:"amount-wrapper"},[n("div",{staticClass:"d-flex justify-start"},[n("input",{staticClass:"amount-input d-flex mr-2",attrs:{min:"0"},domProps:{value:t.ticketAmount[o]},on:{input:function(e){return t.updateAmount(e,o)}}}),t._v(" "),n("span",{staticClass:"grey--text max-button mt-1",class:{disabled:!t.ticketAmount[o]||0===t.ticketAmount[o]},staticStyle:{cursor:"pointer"},on:{click:function(e){e.preventDefault(),t.updateAmount(t.getTokenMaxAmount(o),o)}}},[t._v("\n                Max ("+t._s(t.getTokenMaxAmount(o))+")\n              ")])])])]),t._v(" "),n("v-col",{staticClass:"pr-0",attrs:{cols:"3"}},[n("img",{staticClass:"mx-auto",staticStyle:{"max-height":"120px","max-width":"100%",cursor:"pointer"},attrs:{contain:"",src:t.ticketImg(o)},on:{click:function(e){e.preventDefault(),t.updateAmount((t.ticketAmount[o]||0)+1,o)}}}),t._v(" "),n("v-spacer"),t._v(" "),n("p",{staticClass:"text-center mt-n4"},[t._v("\n            Price: "+t._s(t.getTicketPrice(o))+"\n            "),n("img",{staticClass:"mt-n1",staticStyle:{"max-height":"25px","max-width":"120px"},attrs:{contain:"",src:t.tokenImage}})])],1),t._v(" "),n("v-col",{staticClass:"pl-sm-0",attrs:{cols:"2"}},[n("div",{staticClass:"ticket-cost",class:{disabled:!t.ticketAmount[o]||0===t.ticketAmount[o]}},[t._v("\n            "+t._s(t.totalTicketCost(o,t.ticketAmount[o]))+"\n            "+t._s(t.tokenSymbol)+"\n          ")])]),t._v(" "),n("v-col",{attrs:{cols:"auto"}},[n("ui-action-btn",{attrs:{small:"",disabled:!t.ticketAmount[o]||0===t.ticketAmount[o]||t.giveawayEnded,loading:t.loadingBtn,"btn-text":"Mint"},on:{click:function(e){return t.enterGiveaway(o)}}})],1),t._v(" "),t.ticketAmount[o]&&0!==t.ticketAmount[o]?n("v-col",{staticClass:"d-flex justify-start align-center item-info",attrs:{cols:"2"}},[t._v("\n          "+t._s((t.ticketAmount[o]||0)*e)+"x\n          "),n("img",{staticClass:"ml-0 ticket-image",class:{disabled:!t.ticketAmount[o]||0===t.ticketAmount[o]},staticStyle:{"max-height":"100px","max-width":"80px"},attrs:{contain:"",src:t.raffleTicketImage}})]):t._e()],1)})),1),t._v(" "),n("v-col",{staticClass:"d-flex flex-column justify-center item-info pt-0",attrs:{cols:"12",md:"auto"}})],1)],1)}),[],!1,null,null,null);e.default=component.exports;y()(component,{UiActionBtn:n(670).default}),y()(component,{VCol:h.a,VContainer:w.a,VRow:k.a,VSpacer:x.a})},821:function(t,e,n){"use strict";n(771)},822:function(t,e,n){var o=n(31)(!1);o.push([t.i,'.trade-tabs-group-card{border-radius:0;height:100%}.trade-tabs .v-tabs-bar{height:42px}.trade-tabs .v-tab{max-width:unset;font-size:.8rem}.background-wrapper.v-card{display:block;position:relative;background-color:transparent;box-shadow:none!important}.background_image:before{content:"";background-image:var(--background-image);background-size:cover;opacity:.16;top:0;left:0;bottom:0;right:0;position:absolute;z-index:0}',""]),t.exports=o}}]);