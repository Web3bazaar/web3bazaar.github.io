(window.webpackJsonp=window.webpackJsonp||[]).push([[4,8,9,23],{668:function(t,e,r){var content=r(672);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(32).default)("fb6a491c",content,!0,{sourceMap:!1})},669:function(t,e,r){var content=r(674);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(32).default)("93b99936",content,!0,{sourceMap:!1})},670:function(t,e,r){"use strict";r.r(e);r(19),r(17),r(18),r(7),r(25),r(21),r(26);var n=r(5),o=r(23);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var l={components:{},props:{small:{type:Boolean,default:!1},btnText:{default:"",type:String},loading:{default:!1,type:Boolean},disabled:{default:!1,type:Boolean}},data:function(){return{}},computed:{},methods:d(d({},Object(o.b)("sound",["playSFXAudio"])),{},{playSound:function(){this.playSFXAudio({audioToPlay:"actionButton"}),this.$emit("click")}})},m=(r(671),r(673),r(29)),f=r(76),h=r.n(f),v=r(790),component=Object(m.a)(l,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("v-btn",{staticClass:"more-btn pixel2 w3b-bg-gradient",attrs:{type:"submit",small:t.small,loading:t.loading,disabled:t.disabled,ripple:!1},on:{click:t.playSound}},[t._v("\n  "+t._s(t.btnText)+"\n")])}),[],!1,null,"31dd8b09",null);e.default=component.exports;h()(component,{VBtn:v.a})},671:function(t,e,r){"use strict";r(668)},672:function(t,e,r){var n=r(31)(!1);n.push([t.i,".login-btn[data-v-31dd8b09]{width:176px!important;height:35px!important;font-size:16px}",""]),t.exports=n},673:function(t,e,r){"use strict";r(669)},674:function(t,e,r){var n=r(31)(!1);n.push([t.i,".w3b-bg-gradient.v-btn--disabled,.w3b-bg-gradient.v-btn--disabled:after,.w3b-bg-gradient.v-btn--disabled:before{filter:grayscale(1)}",""]),t.exports=n},677:function(t,e,r){t.exports=r.p+"img/link.694332c.png"},682:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABdUExURf///wAAAMlylXRQ/sRpjsRnjsNpjIckYchskPf39QsLCw0HDfX19Pv7+wECAAgCBvb29vT39QcDBAsGCPX29g4EDAsCCfn5+fn19QsFCgMCAvj+/Pj4+Pz8/AAAAK5WoyYAAAAfdFJOU////////////////////////////////////////wDNGXYQAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAeElEQVQoU5XN6w7CMAgFYE5RcW7zPnVz8v6P6YFmyeI/mzRwPlIq/nP+A4mwAgGYElMFpVDC6gRFlULCZsuKnaoaGwGbPWIeme9hbMuSuaM5hERuu9jt3h9T7HTOz3gvV4rd7pETvB/MHs/MFfw1Tu9sFvD5U6v7F7KRE1/SHTkvAAAAAElFTkSuQmCC"},699:function(t,e,r){var content=r(731);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(32).default)("524b6a2c",content,!0,{sourceMap:!1})},714:function(t,e,r){t.exports=r.p+"img/switch.03b5394.png"},729:function(t,e,r){var content=r(753);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(32).default)("379d1a98",content,!0,{sourceMap:!1})},730:function(t,e,r){"use strict";r(699)},731:function(t,e,r){var n=r(31)(!1);n.push([t.i,".trade-tab-asset .item-quantity{display:inline;font-size:.75rem}.trade-tab-asset .item-info *{text-align:left!important}.trade-tab-asset .item-info .item-name.small-links{font-size:.75rem}.trade-tab-asset .item-info .item-name,.trade-tab-asset .item-info .item-quantity{color:#d3d3d3}.trade-tab-asset .item-info .item-name span,.trade-tab-asset .item-info .item-quantity span{color:#ffb6c1;font-size:.85rem}@media(max-width:720px){.trade-tab-asset .item-info *{text-align:center!important}.trade-tab-asset .item-info>*{font-size:.65rem!important}}",""]),t.exports=n},740:function(t,e,r){"use strict";r.r(e);var n=r(4),o=(r(7),r(69),r(39),r(12)),c={props:{asset:{type:Object,default:function(){}}},data:function(){return{linkIcon:r(677),baseImg:null,projectLink:null,assetName:null,externalUrl:null,imageData:null,itemName:null}},fetch:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("getProjectInfo",{contractAddress:t.asset.contractAddress,idAsset:t.asset.idAsset,contractTypeIndex:t.asset.contractTypeIndex});case 2:r=e.sent,t.baseImg=r.baseImg,t.imageData=r.imageData,t.projectLink=r.projectLink,t.assetName=r.assetName||r.projectName,t.externalUrl=r.externalUrl,t.itemName=r.itemName;case 9:case"end":return e.stop()}}),e)})))()},computed:{formattedQuantity:function(){var t,e,r;return(null===(t=this.asset)||void 0===t?void 0:t.contractType)===this.$contractTypes.ERC20?o.ethers.utils.formatUnits(((null===(e=this.asset)||void 0===e?void 0:e.amount.toString())||0)+""):null===(r=this.asset)||void 0===r?void 0:r.amount}}},d=(r(730),r(29)),l=r(76),m=r.n(l),f=r(662),h=r(667),v=r(664),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"trade-tab-asset pa-2 pa-sm-3"},[r("v-row",{staticClass:"justify-center"},[r("v-col",{staticClass:"d-flex flex-column justify-center item-info pb-0 pl-0",attrs:{cols:"12",md:"auto"}},[r("a",{staticClass:"item-name small-links d-flex align-center",attrs:{href:t.externalUrl,target:"_blank"}},[1!==t.asset.contractTypeIndex?r("div",{},[t._v("\n          "+t._s(t._f("truncate")(t.itemName,12,"...",7))+"\n        ")]):r("div",[t._v("\n          "+t._s(t.assetName)+"\n        ")])])]),t._v(" "),r("v-col",{staticClass:"d-flex justify-center py-0",attrs:{cols:"auto"}},[r("a",{attrs:{href:t.externalUrl,target:"_blank"}},[t.imageData?r("div",{staticClass:"svg-img",staticStyle:{width:"100px"},domProps:{innerHTML:t._s(t.imageData)}}):r("img",{staticClass:"ml-0",staticStyle:{"max-height":"100px","max-width":"120px","min-height":"100px","min-width":"120px"},attrs:{contain:"",src:t.baseImg}})])]),t._v(" "),r("v-col",{staticClass:"d-flex flex-column justify-center item-info pt-0",attrs:{cols:"12",md:"auto"}},[r("p",{staticClass:"item-quantity mb-0"},[t._v("\n        Amount:"),r("span",[t._v(" "+t._s(t.formattedQuantity)+" ")])])])],1)],1)}),[],!1,null,null,null);e.default=component.exports;m()(component,{VCol:f.a,VContainer:h.a,VRow:v.a})},751:function(t,e,r){t.exports=r.p+"img/pattern.2be3aa0.png"},752:function(t,e,r){"use strict";r(729)},753:function(t,e,r){var n=r(31)(!1);n.push([t.i,'.trade-tabs-group-card{border-radius:0;height:100%}.trade-tabs-group-card .background_image{max-height:270px;height:100%;overflow-x:hidden;overflow-y:auto;padding:12px}.trade-tabs .v-tabs-bar{height:42px}.trade-tabs .v-tab{max-width:unset;font-size:.8rem}.background_image.v-card{display:block;position:relative;background-color:#393939}.background_image:before{content:"";background-image:var(--background-image);background-size:cover;opacity:.16;top:0;left:0;bottom:0;right:0;position:absolute;z-index:0}',""]),t.exports=n},769:function(t,e,r){var content=r(811);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(32).default)("473db060",content,!0,{sourceMap:!1})},785:function(t,e,r){"use strict";r.r(e);r(19),r(17),r(18),r(7),r(25),r(21),r(26);var n=r(4),o=r(5),c=(r(39),r(93),r(23));function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function l(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={props:{trade:{type:Object,required:!0},creator:{type:String,default:void 0}},data:function(){return{loadingBtn:!1,TradeStatusMessages:{waitingExecutor:"Waiting for counter-party",alreadyClaimed:"You have already claimed these assets (waiting for counter-party to close the trade)"},tradeStatusMessagesMap:{1:"waiting for your approval",2:"This trade was already completed",3:"This trade was cancelled"},linkIcon:r(677),bazaarContractAddress:{"0x13881":"0x4A8deFc270081AB6d76F4e4e346c5b121A3e9BbA","0x89":"0xa80e4eA13aC0d8Fb1bfD1f57697cB49B445eF8Db"},isReadyToExecute:!1}},computed:l(l(l({},Object(c.d)("connector",["isWalletConnected","account"])),Object(c.c)("networks",["getActiveChainBlockExplorerURL","getActiveChain"])),{},{bazaarContractAddressUrl:function(){return this.getActiveChainBlockExplorerURL+"address/"+this.bazaarContractAddress[this.getActiveChain.chainId]+"#readContract"}}),methods:l(l(l({},Object(c.b)(["getTradesInfo"])),Object(c.b)("sound",["playSFXAudio"])),{},{handleTrade:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,c,d,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.loadingBtn=!0,e.$store.commit("modals/setPopupState",{type:"loading",isShow:!0}),r.prev=2,!e.creator||1!==t.tradeStatus){r.next=17;break}return r.prev=4,e.$store.commit("modals/setPopupState",{type:"loading",isShow:!0,data:{state:"cancelTrade"}}),r.next=8,e.$store.dispatch("bazaar-connector/claimBack",{walletAddress:e.account,tradeId:t.tradeId});case 8:o=r.sent,n="You have successfully canceled this trade and it can't be executed anymore",r.next=15;break;case 12:throw r.prev=12,r.t0=r.catch(4),new Error("CLAIM_BACK_FAILED");case 15:r.next=42;break;case 17:return r.next=19,e.$store.dispatch("bazaar-connector/checkIsApprovedArray",{assets:t.executor.assetsByProject,walletAddress:e.account});case 19:if(c=r.sent,d=c.contractAddressArray,l=c.contractTypeArray,!(d.length>0&&l.length>0)){r.next=37;break}return e.$store.commit("modals/setPopupState",{type:"loading",isShow:!0,data:{state:"approveContract"}}),r.prev=24,r.next=27,e.$store.dispatch("bazaar-connector/setApprovalArray",{contractAddressArray:d,contractTypeArray:l,walletAddress:e.account});case 27:return o=r.sent,e.isReadyToExecute=!0,e.$store.commit("modals/setPopupState",{type:"success",isShow:!0,data:{message:"You have successfully approved Bazaar contracts to move your assets.\n            You can now Execute the Trade and write it on the blockchain.",txHash:o.hash}}),r.abrupt("return");case 33:return r.prev=33,r.t1=r.catch(24),e.$store.commit("modals/setPopupState",{type:"error",isShow:!0,data:{message:"Seems like the transaction didn't go through. Please try approving the contracts again"}}),r.abrupt("return");case 37:if(1!==t.tradeStatus){r.next=42;break}return r.next=40,e.$store.dispatch("bazaar-connector/executeTrade",{tradeId:t.tradeId});case 40:o=r.sent,n="Your new assets have been claimed.";case 42:return e.$store.commit("modals/setPopupState",{type:"loading",isShow:!0,data:{state:"mining"}}),r.next=45,o.wait();case 45:e.$store.commit("modals/setPopupState",{type:"success",isShow:!0,data:{message:n,txHash:o.hash}}),e.isReadyToExecute=!1,e.playSFXAudio({audioToPlay:"successState"}),setTimeout((function(){e.getTradesInfo()}),5e3),r.next=55;break;case 51:r.prev=51,r.t2=r.catch(2),e.$store.commit("modals/closeModal"),"CLAIM_BACK_FAILED"===(null===r.t2||void 0===r.t2?void 0:r.t2.message)&&e.$store.commit("modals/setPopupState",{type:"error",isShow:!0,data:{message:"It seems like the transaction didn't go through.\n              Please try canceling the trade again"}});case 55:return r.prev=55,e.loadingBtn=!1,r.finish(55);case 58:case"end":return r.stop()}}),r,null,[[2,51,55,58],[4,12],[24,33]])})))()},tradeBtn:function(t){switch(!0){case this.creator&&t.tradeStatus>1&&t.executor.traderStatus>1&&3!==t.creator.traderStatus:case!this.creator&&t.tradeStatus>1&&t.creator.traderStatus>1&&3!==t.executor.traderStatus:return"Claim assets";case this.creator&&1===t.tradeStatus:return"Cancel Trade";case!this.creator&&1===t.tradeStatus:return"Execute Trade";default:return!1}},getTradeStatus:function(t){return this.$logger("trade: ",t,this.creator),this.creator&&1===t.tradeStatus?this.TradeStatusMessages.waitingExecutor:this.tradeStatusMessagesMap[t.tradeStatus]}})},f=(r(810),r(29)),h=r(76),v=r.n(h),y=r(875),A=r(662),x=r(667),w=r(382),C=r(664),component=Object(f.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",[n("v-row",{staticClass:"list-trade-row pb-4",attrs:{justify:"center"}},[n("v-col",{staticClass:"d-flex flex-column item-col"},[n("div",{attrs:{id:"account_from"}},[n("p",{staticClass:"mb-1"},[t.account.toLowerCase()===t.trade.creator.address.toLowerCase()?n("span",{staticStyle:{color:"#fff"}},[t._v("\n            You\n          ")]):n("span",{staticStyle:{color:"#fff"}},[t._v(" Counter-party ")]),t._v("\n          "+t._s(t._f("truncate")(t.trade.creator.address,9))+"\n        ")])]),t._v(" "),n("v-card",{staticClass:"item-card"},[n("dashboard-trade-tabs-group",{attrs:{"assets-by-project":t.trade.creator.assetsByProject,"account-from":t.account}})],1)],1),t._v(" "),n("v-col",{staticClass:"d-flex flex-column align-center text-center py-0 pt-7",attrs:{cols:"12",sm:"1"}},[n("v-img",{staticClass:"mx-auto",staticStyle:{transform:"rotate(0deg)"},attrs:{contain:"","max-width":"40px",src:r(714)}})],1),t._v(" "),n("v-col",{staticClass:"d-flex flex-column item-col"},[n("div",{attrs:{id:"account_from"}},[n("p",{staticClass:"mb-1"},[t.account.toLowerCase()===t.trade.executor.address.toLowerCase()?n("span",{staticStyle:{color:"#fff"}},[t._v("\n            You\n          ")]):n("span",{staticStyle:{color:"#fff"}},[t._v(" Counter-party ")]),t._v("\n          "+t._s(t._f("truncate")(t.trade.executor.address,9))+"\n        ")])]),t._v(" "),n("v-card",{staticClass:"item-card"},[n("dashboard-trade-tabs-group",{attrs:{"assets-by-project":t.trade.executor.assetsByProject}})],1)],1),t._v(" "),n("v-col",{staticClass:"align-center pt-0",attrs:{cols:"12",sm:"12"}},[n("h6",{staticClass:"text-left"},[t._v("\n        "+t._s(t.getTradeStatus(t.trade))+"\n      ")]),t._v(" "),n("a",{staticClass:"text-left small-links white--text",attrs:{href:t.bazaarContractAddressUrl,target:"_blank"}},[n("h6",[t._v("\n          Trade ID:\n          "),n("span",{staticStyle:{color:"lightpink !important"}},[t._v("\n            "+t._s(parseInt(t.trade.tradeId))+"\n          ")])])])]),t._v(" "),t.tradeBtn(t.trade)?n("v-col",{staticClass:"d-flex justify-center pt-0",attrs:{cols:"12",sm:"12"}},[n("ui-action-btn",{staticClass:"mb-7 mt-0",style:Object.assign({},!t.creator&&1===t.trade.tradeStatus&&t.isReadyToExecute?{zIndex:1e5,top:"25px"}:{}),attrs:{loading:t.loadingBtn,"btn-text":t.tradeBtn(t.trade)},on:{click:function(e){return t.handleTrade(t.trade)}}})],1):t._e()],1)],1)}),[],!1,null,"9b269cd0",null);e.default=component.exports;v()(component,{DashboardTradeTabsGroup:r(786).default,UiActionBtn:r(670).default}),v()(component,{VCard:y.a,VCol:A.a,VContainer:x.a,VImg:w.a,VRow:C.a})},786:function(t,e,r){"use strict";r.r(e);r(19);var n={props:{assetsByProject:{type:Object,default:function(){}}},data:function(){return{tab:0,iconCheckmark:r(682)}},computed:{currentSelectedProject:function(){return Object.keys(this.assetsByProject)[this.tab]}},methods:{getBackgroundImg:function(t){return t.banner||t.backgroundImage||r(751)}}},o=(r(752),r(29)),c=r(76),d=r.n(c),l=r(875),m=r(662),f=r(664),h=r(876),v=r(892),y=r(885),A=r(872),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-card",{staticClass:"trade-tabs-group-card"},[r("v-tabs",{staticClass:"trade-tabs",attrs:{"background-color":"light-grey",color:"white",dark:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.assetsByProject,(function(e){return r("v-tab",{key:e.contractAddress},[r("img",{staticClass:"mr-1 mt-n1",attrs:{src:t.iconCheckmark}}),t._v("\n      "+t._s(t._f("truncate")(e.assetName||e.projectName,30))+"\n    ")])})),1),t._v(" "),r("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.assetsByProject,(function(e){return r("v-tab-item",{key:e.contractAddress},[r("v-card",{staticClass:"background_image",style:"--background-image: url('"+t.getBackgroundImg(e)+"')"},[r("v-row",{attrs:{justify:"start"}},t._l(e.assets,(function(t){return r("v-col",{key:t.idAsset,attrs:{cols:"3",sm:"3"}},[r("dashboard-trade-tab-asset",{attrs:{asset:t,"asset-name":e.assetName}})],1)})),1)],1)],1)})),1)],1)}),[],!1,null,null,null);e.default=component.exports;d()(component,{DashboardTradeTabAsset:r(740).default}),d()(component,{VCard:l.a,VCol:m.a,VRow:f.a,VTab:h.a,VTabItem:v.a,VTabs:y.a,VTabsItems:A.a})},810:function(t,e,r){"use strict";r(769)},811:function(t,e,r){var n=r(31)(!1);n.push([t.i,".item-card[data-v-9b269cd0]{border-radius:0}",""]),t.exports=n}}]);